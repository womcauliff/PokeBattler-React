(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/101-opening.957e5f1f.mp3"},31:function(e,t,a){e.exports=a.p+"static/media/intro1.278afa60.gif"},32:function(e,t,a){e.exports=a.p+"static/media/intro2.b5f5d3be.gif"},33:function(e,t,a){e.exports=a.p+"static/media/intro3.6278c9f9.gif"},34:function(e,t,a){e.exports=a.p+"static/media/intro4.d21214da.gif"},42:function(e){e.exports=[{id:1,name:"Bulbasaur",img:"001Bulbasaur.png",type:["grass","poison"],weaknesses:["flying","fire","psychic","ice"],resistances:["fighting","water","grass","electric","fairy"],baseHp:45,baseAttack:49,baseDefense:49,baseSpAttack:65,baseSpDefense:65,level:15,currentHp:0,totalHp:0,defeated:!1,moves:[{id:22,name:"Vine Whip",basePower:45,type:"grass",category:"physical",flavor_text:"The target is struck with slender, whiplike vines to inflict damage."}]},{id:4,name:"Charmander",img:"004Charmander.png",type:["fire"],weaknesses:["ground","rock","water"],resistances:["bug","steel","fire","grass","ice","fairy"],baseHp:39,baseAttack:52,baseDefense:43,baseSpAttack:60,baseSpDefense:50,level:15,currentHp:0,totalHp:0,defeated:!1,moves:[{id:52,name:"Ember",basePower:40,type:"fire",category:"special",flavor_text:"The target is attacked with small flames. This may also leave the target with a burn."}]},{id:7,name:"Squirtle",img:"007Squirtle.png",type:["water"],weaknesses:["grass","electric"],resistances:["steel","fire","water","ice"],baseHp:44,baseAttack:48,baseDefense:65,baseSpAttack:50,baseSpDefense:64,level:15,currentHp:0,totalHp:0,defeated:!1,moves:[{id:145,name:"Bubble",basePower:40,type:"water",category:"special",flavor_text:"A spray of countless bubbles is jetted at the opposing Pok\xe9mon. This may also lower their Speed stat."}]},{id:25,name:"Pikachu",img:"025Pikachu.png",type:["electric"],weaknesses:["ground"],resistances:["flying","steel","electric"],baseHp:35,baseAttack:55,baseDefense:40,baseSpAttack:50,baseSpDefense:50,level:15,currentHp:0,totalHp:0,defeated:!1,moves:[{id:84,name:"Thunder Shock",basePower:40,type:"electric",category:"special",flavor_text:"A jolt of electricity crashes down on the target to inflict damage. This may also leave the target with paralysis."}]}]},44:function(e,t,a){e.exports=a(61)},49:function(e,t,a){},58:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),i=a.n(c),o=(a(49),a(19)),s=a(14),l=a(15),u=a(17),m=a(16),d=a(18),f=a(7),h=a(6),p=a(9),b=Object(h.a)({id:"pokebattler",context:{characters:[],characterId:null,challengerId:null},initial:"soundOptions",states:{soundOptions:{on:{SELECTED:"intro"}},intro:{on:{TIMEOUT:"characterSelection",SKIP:"characterSelection"}},characterSelection:{on:{SELECT:{target:"challengerSelection",actions:["setCharacter"]}}},challengerSelection:{on:{SELECT:{target:"battleSetup",actions:["setChallenger"]},UNDO:{target:"characterSelection",actions:["resetCharacter"]}}},battleSetup:{on:{"":{target:"battle",actions:["resetHP"]}}},battle:{on:{WIN:"win",LOSS:"loss"},initial:"moveSelection",states:{moveSelection:{on:{SELECT:{target:"roundResult",actions:["calculateResult"]}}},roundResult:{on:{NEXT:[{cond:"characterIsDefeated",actions:Object(h.e)("LOSS")},{cond:"challengerIsDefeated",actions:Object(h.e)("WIN")},{target:"moveSelection"}]}}}},loss:{on:{RETRY:"characterSelection"}},win:{on:{NEXT:[{cond:"noChallengersRemaining",target:"endGame"},{target:"challengerSelection"}]}},endGame:{on:{RETRY:{target:"characterSelection",actions:["resetDefeated"]}}}}},{actions:{setCharacter:Object(h.c)({characterId:function(e,t){return t.characterId}}),resetCharacter:Object(h.c)({characterId:null}),setChallenger:Object(h.c)({challengerId:function(e,t){return t.challengerId}}),resetHP:Object(h.c)({characters:function(e){return e.characters.map(function(t){return t.id===e.characterId||t.id===e.challengerId?Object(o.a)({},t,{currentHp:g(t),totalHp:g(t)}):t})}}),calculateResult:Object(h.c)({characters:function(e,t){var a=e.characters.find(function(t){return t.id===e.characterId});return e.characters.map(function(n){return n.id===e.challengerId?Object(o.a)({},n,{currentHp:n.currentHp-E(a,n,t.moveId)<0?0:n.currentHp-E(a,n,t.moveId),defeated:n.currentHp-50<=0}):n})}}),resetDefeated:Object(h.c)({characters:function(e){return e.characters.map(function(e){return Object(o.a)({},e,{defeated:!1})})}})},activities:{},guards:{characterIsDefeated:function(e){var t=e.characters,a=e.characterId;return t.find(function(e){return e.id===a}).currentHp<=0},challengerIsDefeated:function(e){var t=e.characters,a=e.challengerId;return t.find(function(e){return e.id===a}).currentHp<=0},noChallengersRemaining:function(e){var t=e.characters,a=e.characterId;return 0===t.filter(function(e){var t=e.id,n=e.defeated;return t!==a&&!n}).length}},services:{}});function g(e){return Math.floor(2*e.baseHp*e.level/100)+e.level+10}function E(e,t,a){console.log(e,t,a);var n=e.level,r=e.moves.find(function(e){return e.id===a});console.log(r);var c=r.basePower,i=1,o=1;"physical"===r.category?(i=e.baseAttack,o=t.baseDefense):(i=e.baseSpAttack,o=t.baseSpDefense);for(var s=(2*n/5+2)*c*(i/o)/50+2,l=1,u=1,m=0;m<e.type.length;m+=1)if(r.type===e.type[m]){l=1.5;break}for(var d=0;d<t.resistances.length;d+=1)r.type===t.resistances[d]&&(u*=.5);for(var f=0;f<t.weaknesses.length;f+=1)r.type===t.weaknesses[f]&&(u*=2);return s*=l*u*1*1*(Math.random()*(1-.85)+.85),Math.floor(s)}var v=a(38),y=a(10),k=a(11);function S(){var e=Object(y.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border: black 0.2em solid;\n  width: 1em;\n  height: 1em;\n  margin: 0 auto;\n  background-color: white;\n"]);return S=function(){return e},e}function O(){var e=Object(y.a)(["\n  height: 0.25em;\n  background-color: black;\n  width: 100%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]);return O=function(){return e},e}function j(){var e=Object(y.a)(["\n  ","\n  border-bottom-left-radius: 1em;\n  border-bottom-right-radius: 1em;\n"]);return j=function(){return e},e}function w(){var e=Object(y.a)(["\n  ","\n  background: #cc1a00;\n  border-top-left-radius: 2em;\n  border-top-right-radius: 2em;\n"]);return w=function(){return e},e}function R(){var e=Object(y.a)(["\n  height: 50%;\n  width: 100%;\n  border-radius: 0;\n"]);return R=function(){return e},e}function N(){var e=Object(y.a)(["\n  border-radius: 50%;\n  border: black 0.25em solid;\n  width: 3em;\n  height: 3em;\n  position: relative;\n  animation: "," 2s ease-in-out infinite;\n"]);return N=function(){return e},e}function C(){var e=Object(y.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return C=function(){return e},e}var I=Object(k.c)(C()),D=k.b.div(N(),I),T=Object(k.a)(R()),H=k.b.div(w(),T),L=k.b.div(j(),T),x=k.b.div(O()),P=k.b.span(S());function G(){return r.a.createElement(D,null,r.a.createElement(H,null),r.a.createElement(x,null),r.a.createElement(P,null),r.a.createElement(L,null))}var A=Object(h.a)({initial:"preloading",context:{currentGif:null},states:{preloading:{on:{PRELOADED:"grass"}},grass:{onEntry:"addGif1",initial:"display",states:{display:{after:{2000:"complete"}},complete:{type:"final"}},onDone:{target:"pan"}},pan:{onEntry:"addGif2",initial:"display",states:{display:{after:{2100:"complete"}},complete:{type:"final"}},onDone:{target:"attack"}},attack:{onEntry:"addGif3",initial:"display",states:{display:{after:{4900:"complete"}},complete:{type:"final"}},onDone:{target:"counterattack"}},counterattack:{onEntry:["addGif4"],initial:"display",states:{display:{after:{3000:"complete"}},complete:{type:"final"}},onDone:{target:"complete"}},complete:{type:"final"}}}),M=a(31),F=a.n(M),B=a(32),_=a.n(B),W=a(33),q=a.n(W),U=a(34),Y=a.n(U),X=h.b.assign,J=A.withConfig({actions:{addGif1:X({currentGif:F.a}),addGif2:X({currentGif:_.a}),addGif3:X({currentGif:q.a}),addGif4:X({currentGif:Y.a})}}),K=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={current:J.initialState,numLoaded:0},a.service=Object(v.interpret)(J).onTransition(function(e){return a.setState({current:e})}).onDone(function(){return a.props.transition("TIMEOUT")}),a.skipRef=r.a.createRef(),a.onLoaded=a.onLoaded.bind(Object(f.a)(Object(f.a)(a))),a.onSkipClick=a.onSkipClick.bind(Object(f.a)(Object(f.a)(a))),a.onMouseEnter=a.onMouseEnter.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.service.start(),this.skipRef.current.focus()}},{key:"componentWillUnmount",value:function(){this.service.stop()}},{key:"onSkipClick",value:function(){this.props.transition("SKIP")}},{key:"onLoaded",value:function(){var e=this;this.setState(function(e){return{numLoaded:e.numLoaded+1}},function(){4===e.state.numLoaded&&e.service.send({type:"PRELOADED"})})}},{key:"onMouseEnter",value:function(){this.skipRef.current.focus()}},{key:"render",value:function(){var e=this.state.current.context.currentGif,t=void 0===e?"":e;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"preloading",style:{display:"none"}},r.a.createElement("img",{src:F.a,onLoad:this.onLoaded,alt:""}),r.a.createElement("img",{src:_.a,onLoad:this.onLoaded,alt:""}),r.a.createElement("img",{src:Y.a,onLoad:this.onLoaded,alt:""}),r.a.createElement("img",{src:q.a,onLoad:this.onLoaded,alt:""})),"preloading"===this.state.current.value?r.a.createElement("div",{className:"center"},r.a.createElement(G,null)):r.a.createElement("div",{class:"img-container"},r.a.createElement("img",{src:t,alt:""})),r.a.createElement("div",{className:"option-box"},r.a.createElement("button",{className:"skip-button",onClick:this.onSkipClick,type:"button",ref:this.skipRef,onMouseEnter:this.onMouseEnter},"Skip Intro")))}}]),t}(n.Component),V=a(5),$=a.n(V),z=$.a.oneOf(["normal","fire","fighting","water","flying","grass","poison","electric","ground","psychic","rock","ice","bug","dragon","ghost","dark","steel","fairy"]),Q=$.a.shape({id:$.a.number.isRequired,name:$.a.string,basePower:$.a.number,type:z,category:$.a.oneOf(["special","physical"]),flavor_text:$.a.string});$.a.shape({id:$.a.number.isRequired,name:$.a.string.isRequired,img:$.a.string.isRequired,type:$.a.arrayOf(z),weaknesses:$.a.arrayOf(z),resistances:$.a.arrayOf(z),baseHp:$.a.number,baseAttack:$.a.number,baseDefense:$.a.number,baseSpAttack:$.a.number,baseSpDefense:$.a.number,level:$.a.number,currentHp:$.a.number,totalHp:$.a.number,defeated:$.a.bool,moves:$.a.arrayOf(Q)});var Z=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Select your Pok\xe9mon."),r.a.createElement("div",{className:"characters"},e.characters.map(function(t){return r.a.createElement("div",{className:"character-container",key:t.id},r.a.createElement("div",{className:"character",id:"character".concat(t.id)},r.a.createElement("img",{src:"".concat("/PokeBattler-React","/assets/img/").concat(t.img),alt:t.name})),r.a.createElement("h3",{className:"character-name"},t.name),r.a.createElement("button",{type:"button","aria-label":"Select ".concat(t.name),onClick:function(){e.send({type:"SELECT",characterId:t.id})}},"Select"))})))},ee=a(41),te=a.n(ee);var ae=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Select a challenger."),r.a.createElement("button",{type:"button",onClick:function(){e.send({type:"UNDO"})}},"Re-select character"),r.a.createElement("div",{className:"characters"},e.characters.filter(function(t){return t.id!==e.characterId}).map(function(t){return r.a.createElement("div",{className:te()("character-container",{defeated:t.defeated}),key:t.id},r.a.createElement("div",{className:"character",id:"character".concat(t.id)},r.a.createElement("img",{src:"".concat("/PokeBattler-React","/assets/img/").concat(t.img),alt:t.name})),r.a.createElement("p",{className:"character-name"},t.name),r.a.createElement("button",{type:"button","aria-label":"Select ".concat(t.name),disabled:t.defeated,onClick:function(){e.send({type:"SELECT",challengerId:t.id})}},"Select"))})))};var ne=function(e){var t=e.character,a=e.challenger;return console.log(t),r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Select a Move."),r.a.createElement("div",{className:"characters"},r.a.createElement("div",{className:"character-container"},r.a.createElement("div",{className:"character",id:"character".concat(t.id)},r.a.createElement("img",{src:"".concat("/PokeBattler-React","/assets/img/").concat(t.img),alt:t.name})),r.a.createElement("p",{className:"character-name"},t.name),r.a.createElement("p",null,t.currentHp),t.moves.map(function(t){return r.a.createElement("button",{type:"button",key:t.id,onClick:function(){e.transition({type:"SELECT",moveId:t.id})}},t.name)})),r.a.createElement("div",{className:"character-container"},r.a.createElement("div",{className:"character",id:"character".concat(a.id)},r.a.createElement("img",{src:"".concat("/PokeBattler-React","/assets/img/").concat(a.img),alt:a.name})),r.a.createElement("p",{className:"character-name"},a.name),r.a.createElement("p",null,a.currentHp))))};function re(e){var t=e.character,a=e.challenger;return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Round Result."),r.a.createElement("div",{className:"characters"},r.a.createElement("div",{className:"character-container"},r.a.createElement("div",{className:"character",id:"character".concat(t.id)},r.a.createElement("img",{src:"".concat("/PokeBattler-React","/assets/img/").concat(t.img),alt:t.name})),r.a.createElement("p",{className:"character-name"},t.name),r.a.createElement("p",null,t.currentHp),r.a.createElement("button",{type:"button",onClick:function(){e.transition({type:"NEXT"})}},"Next")),r.a.createElement("div",{className:"character-container"},r.a.createElement("div",{className:"character",id:"character".concat(a.id)},r.a.createElement("img",{src:"".concat("/PokeBattler-React","/assets/img/").concat(a.img),alt:a.name})),r.a.createElement("p",{className:"character-name"},a.name),r.a.createElement("p",null,a.currentHp))))}function ce(e){return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"You won!"),r.a.createElement("button",{type:"button",onClick:function(){e.transition({type:"NEXT"})}},"Next"))}function ie(e){return r.a.createElement("button",{type:"button",onClick:function(){e.transition({type:"RETRY"})}},"New Game")}var oe=a(42),se=a(21),le=a.n(se),ue=(a(58),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).moveFocus=a.moveFocus.bind(Object(f.a)(Object(f.a)(a))),a.yesRef=r.a.createRef(),a.noRef=r.a.createRef(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.yesRef.current.focus()}},{key:"moveFocus",value:function(e){"Yes"===e.target.innerText&&this.yesRef.current.focus(),"No"===e.target.innerText&&this.noRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props.send;return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Turn on Game Audio?"),r.a.createElement(G,null),r.a.createElement("div",{className:"option-box"},r.a.createElement("button",{type:"button",onMouseEnter:this.moveFocus,onClick:function(){e.props.toggleSound(),t({type:"SELECTED"})},ref:this.yesRef},"Yes"),r.a.createElement("button",{type:"button",onMouseEnter:this.moveFocus,onClick:function(){t({type:"SELECTED"})},ref:this.noRef},"No")))}}]),t}(n.Component)),me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={current:b.initialState,muted:!0},a.matches=a.matches.bind(Object(f.a)(Object(f.a)(a))),a.service=Object(h.d)(b.withContext(Object(o.a)({},b.context,{characters:oe}))).onTransition(function(e){return a.setState({current:e})}),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.service.start()}},{key:"componentWillUnmount",value:function(){this.service.stop()}},{key:"matches",value:function(e){return Object(p.matchesState)(e,this.state.current.value)}},{key:"renderScreen",value:function(){var e=this,t=this.state.current.context,a=this.service.send,n=this.matches;if(n("soundOptions"))return r.a.createElement(ue,{send:a,toggleSound:function(){e.setState(function(e){return{muted:!e.muted}})}});if(n("intro"))return r.a.createElement(K,{transition:a});if(n("characterSelection"))return r.a.createElement(Z,{send:a,characters:t.characters});if(n("challengerSelection"))return r.a.createElement(ae,{send:a,characters:t.characters,characterId:t.characterId});if(n("battle")){if(n("battle.moveSelection"))return r.a.createElement(ne,{character:t.characters.find(function(e){return e.id===t.characterId}),challenger:t.characters.find(function(e){return e.id===t.challengerId}),transition:a});if(n("battle.roundResult"))return r.a.createElement(re,{character:t.characters.find(function(e){return e.id===t.characterId}),challenger:t.characters.find(function(e){return e.id===t.challengerId}),transition:a})}else{if(n("win"))return r.a.createElement(ce,{transition:a});if(n("endGame"))return r.a.createElement(ie,{transition:a})}}},{key:"render",value:function(){var e=this.state.current;return r.a.createElement("div",{className:"App","data-sc-value":e.toStrings()},this.renderScreen(),"soundOptions"!==e.value&&r.a.createElement("audio",{id:"audio_player",controls:!0,muted:this.state.muted,autoPlay:!0},r.a.createElement("source",{id:"src_mp3",type:"audio/mp3",src:le.a}),r.a.createElement("source",{id:"src_ogg",type:"audio/ogg",src:""}),r.a.createElement("object",{id:"audio_object",type:"audio/x-mpeg",width:"200px",height:"45px",data:le.a},r.a.createElement("param",{id:"param_src",name:"src",value:le.a}),r.a.createElement("param",{id:"param_src",name:"src",value:le.a}),r.a.createElement("param",{name:"autoplay",value:"false"}),r.a.createElement("param",{name:"autostart",value:"false"}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,2,1]]]);
//# sourceMappingURL=main.e51a3366.chunk.js.map